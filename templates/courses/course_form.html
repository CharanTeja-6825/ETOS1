{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% if course %}Edit Course{% else %}Create Course{% endif %} - TrainWise</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h2>{% if course %}Edit Course{% else %}Create Course{% endif %}</h2>
        <form action="{% if course %}{% url 'admin_app:course-update' course.id %}{% else %}{% url 'admin_app:course-create' %}{% endif %}" method="post">
            {% csrf_token %}

            <!-- Course Name Field -->
            <div class="mb-3">
                <label for="name" class="form-label">Course Name</label>
                <input type="text" class="form-control" id="name" name="name" value="{{ form.name.value|default:'' }}" required>
                <!-- Error Handling for 'name' Field -->
                <div class="text-danger">{{ form.name.errors }}</div>
            </div>

            <!-- Description Field -->
            <div class="mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea class="form-control" id="description" name="description" required>{{ form.description.value|default:'' }}</textarea>
                <!-- Error Handling for 'description' Field -->
                <div class="text-danger">{{ form.description.errors }}</div>
            </div>

            <!-- Duration Field -->
            <div class="mb-3">
                <label for="duration" class="form-label">Duration (Hours)</label>
                <input type="number" class="form-control" id="duration" name="duration" value="{{ form.duration.value|default:'' }}" min="1" required>
                <!-- Error Handling for 'duration' Field -->
                <div class="text-danger">{{ form.duration.errors }}</div>
            </div>

            <div class="mb-3">
    <label for="trainer" class="form-label">Assigned Trainer</label>
    <select class="form-select" id="trainer" name="trainer" required>
        <option value="">Select Trainer</option>
        {% for trainer in trainers %}
            <option value="{{ trainer.id }}" {% if form.trainer.value == trainer.id %}selected{% endif %}>{{ trainer.first_name }}</option>
        {% endfor %}
    </select>
    <!-- Error Handling for 'trainer' Field -->
    <div class="text-danger">{{ form.trainer.errors }}</div>
            </div>

            <!-- Submit Buttons -->
            <button type="submit" class="btn btn-primary">Save Course</button>
            <a href="{% url 'admin_app:course-list' %}" class="btn btn-secondary">Cancel</a>
        </form>
    </div>
</body>
</html>
